{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yosef\\\\snake_gmae\\\\src\\\\SnakeGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { ChevronUp, ChevronDown, ChevronLeft, ChevronRight, Play, Pause, RotateCcw, Volume2, VolumeX } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRID_SIZE = 15;\nconst INITIAL_SNAKE = [{\n  x: 7,\n  y: 7\n}];\nconst INITIAL_DIRECTION = 'RIGHT';\nconst INITIAL_SPEED = 150;\nconst SPEED_INCREMENT = 0.1;\n\n// Barn Foto Snacke Feature Constants\nconst IMAGE_POPUP_SCORE_INTERVAL = 15;\nconst NUM_BARN_FOTOS = 21; // Updated to 21 images\nconst IMAGE_POPUP_DURATION = 3000; // 3 seconds\n\nconst SNAKE_COLOR_THEMES = [{\n  head: 'bg-gradient-to-br from-indigo-400 to-indigo-600',\n  body: 'bg-gradient-to-br from-indigo-500 to-indigo-700'\n}, {\n  head: 'bg-gradient-to-br from-green-400 to-green-600',\n  body: 'bg-gradient-to-br from-green-500 to-green-700'\n}, {\n  head: 'bg-gradient-to-br from-pink-400 to-pink-600',\n  body: 'bg-gradient-to-br from-pink-500 to-pink-700'\n}, {\n  head: 'bg-gradient-to-br from-yellow-400 to-yellow-600',\n  body: 'bg-gradient-to-br from-yellow-500 to-yellow-700'\n}, {\n  head: 'bg-gradient-to-br from-teal-400 to-teal-600',\n  body: 'bg-gradient-to-br from-teal-500 to-teal-700'\n}];\nconst POWER_UPS = {\n  PIZZA: {\n    icon: '🍕',\n    points: 1,\n    probability: 0.35,\n    description: \"Pizza\"\n  },\n  HAMBURGER: {\n    icon: '🍔',\n    points: 1,\n    probability: 0.35,\n    description: \"Hamburger\"\n  },\n  SPEED: {\n    icon: '⚡️',\n    points: 2,\n    probability: 0.1,\n    description: \"Speed Boost\",\n    color: 'bg-green-500'\n  },\n  MULTIPLIER: {\n    icon: '✨',\n    points: 3,\n    probability: 0.1,\n    description: \"2x Score\",\n    color: 'bg-yellow-500'\n  },\n  SHIELD: {\n    icon: '🛡️',\n    points: 1,\n    probability: 0.1,\n    description: \"Shield\",\n    color: 'bg-blue-500'\n  }\n};\nconst getRandomFoodType = () => {\n  const rand = Math.random();\n  let cumulativeProbability = 0;\n  for (const type in POWER_UPS) {\n    cumulativeProbability += POWER_UPS[type].probability;\n    if (rand < cumulativeProbability) {\n      return type;\n    }\n  }\n  return 'PIZZA'; // Fallback, should ideally be covered by probabilities summing to 1\n};\nconst SnakeGame = () => {\n  _s();\n  const [snake, setSnake] = useState(INITIAL_SNAKE);\n  const [food, setFood] = useState({\n    x: 10,\n    y: 10,\n    type: getRandomFoodType()\n  });\n  const [direction, setDirection] = useState(INITIAL_DIRECTION);\n  const [score, setScore] = useState(0);\n  const [highScore, setHighScore] = useState(() => {\n    const saved = localStorage.getItem('snakeHighScore');\n    return saved ? parseInt(saved) : 0;\n  });\n  const [isGameOver, setIsGameOver] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [gameSpeed, setGameSpeed] = useState(INITIAL_SPEED);\n  const [hasShield, setHasShield] = useState(false);\n  const [scoreMultiplier, setScoreMultiplier] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [touchStart, setTouchStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [currentThemeIndex, setCurrentThemeIndex] = useState(0);\n\n  // Barn Foto Snacke Feature State\n  const [imagePopup, setImagePopup] = useState({\n    show: false,\n    imageName: ''\n  });\n  const [nextImageScoreThreshold, setNextImageScoreThreshold] = useState(IMAGE_POPUP_SCORE_INTERVAL);\n  const [currentBarnFotoIndex, setCurrentBarnFotoIndex] = useState(0);\n  const gameLoopRef = useRef();\n  const audioContextRef = useRef();\n  const currentSnakeColor = SNAKE_COLOR_THEMES[currentThemeIndex];\n\n  // Initialize audio context\n  useEffect(() => {\n    if (!isMuted && !audioContextRef.current) {\n      try {\n        audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      } catch (e) {\n        console.log('Audio not supported');\n      }\n    }\n  }, [isMuted]);\n\n  // Play sound effect\n  const playSound = useCallback((frequency, duration = 100) => {\n    if (isMuted || !audioContextRef.current) return;\n    try {\n      const oscillator = audioContextRef.current.createOscillator();\n      const gainNode = audioContextRef.current.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioContextRef.current.destination);\n      oscillator.frequency.setValueAtTime(frequency, audioContextRef.current.currentTime);\n      oscillator.type = 'square';\n      gainNode.gain.setValueAtTime(0.1, audioContextRef.current.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContextRef.current.currentTime + duration / 1000);\n      oscillator.start(audioContextRef.current.currentTime);\n      oscillator.stop(audioContextRef.current.currentTime + duration / 1000);\n    } catch (e) {\n      console.log('Audio playback failed');\n    }\n  }, [isMuted]);\n\n  // Generate random food position\n  const generateFood = useCallback(() => {\n    let newFoodPosition;\n    do {\n      newFoodPosition = {\n        x: Math.floor(Math.random() * GRID_SIZE),\n        y: Math.floor(Math.random() * GRID_SIZE)\n      };\n    } while (snake.some(segment => segment.x === newFoodPosition.x && segment.y === newFoodPosition.y));\n    return {\n      ...newFoodPosition,\n      type: getRandomFoodType()\n    };\n  }, [snake]);\n\n  // Handle food consumption\n  const handleFoodConsumption = useCallback(foodType => {\n    const basePoints = POWER_UPS[foodType].points;\n    const points = basePoints * scoreMultiplier;\n    setScore(prev => prev + points);\n    playSound(440, 150);\n    setCurrentThemeIndex(prev => (prev + 1) % SNAKE_COLOR_THEMES.length);\n    switch (foodType) {\n      case 'SPEED':\n        setGameSpeed(prev => Math.max(50, prev * 0.8));\n        setTimeout(() => setGameSpeed(prev => prev / 0.8), 5000);\n        break;\n      case 'MULTIPLIER':\n        setScoreMultiplier(2);\n        setTimeout(() => setScoreMultiplier(1), 8000);\n        break;\n      case 'SHIELD':\n        setHasShield(true);\n        setTimeout(() => setHasShield(false), 10000);\n        break;\n    }\n  }, [scoreMultiplier, playSound]);\n\n  // Move snake\n  const moveSnake = useCallback(() => {\n    if (isPaused || isGameOver) return;\n    setSnake(currentSnake => {\n      const head = {\n        ...currentSnake[0]\n      };\n      switch (direction) {\n        case 'UP':\n          head.y -= 1;\n          break;\n        case 'DOWN':\n          head.y += 1;\n          break;\n        case 'LEFT':\n          head.x -= 1;\n          break;\n        case 'RIGHT':\n          head.x += 1;\n          break;\n      }\n\n      // Wall collision\n      if (head.x < 0 || head.x >= GRID_SIZE || head.y < 0 || head.y >= GRID_SIZE) {\n        if (hasShield) {\n          setHasShield(false);\n          playSound(200, 300);\n          return currentSnake;\n        } else {\n          setIsGameOver(true);\n          playSound(150, 500);\n          return currentSnake;\n        }\n      }\n\n      // Self collision\n      if (currentSnake.some(segment => segment.x === head.x && segment.y === head.y)) {\n        if (hasShield) {\n          setHasShield(false);\n          playSound(200, 300);\n          return currentSnake;\n        } else {\n          setIsGameOver(true);\n          playSound(150, 500);\n          return currentSnake;\n        }\n      }\n      const newSnake = [head, ...currentSnake];\n\n      // Food collision\n      if (head.x === food.x && head.y === food.y) {\n        handleFoodConsumption(food.type);\n        setFood(generateFood());\n        return newSnake;\n      }\n      return newSnake.slice(0, -1);\n    });\n  }, [direction, isPaused, isGameOver, food, hasShield, handleFoodConsumption, generateFood, playSound]);\n\n  // Game loop\n  useEffect(() => {\n    if (!isGameOver && !isPaused) {\n      gameLoopRef.current = setTimeout(moveSnake, gameSpeed);\n    }\n    return () => clearTimeout(gameLoopRef.current);\n  }, [moveSnake, gameSpeed, isGameOver, isPaused]);\n\n  // Update high score & Barn Foto Snacke popup\n  useEffect(() => {\n    if (score > highScore) {\n      setHighScore(score);\n      localStorage.setItem('snakeHighScore', score.toString());\n    }\n    if (score > 0 && score >= nextImageScoreThreshold && NUM_BARN_FOTOS > 0) {\n      const imageIndexToShow = currentBarnFotoIndex % NUM_BARN_FOTOS + 1; // 1-based index for image names\n      setImagePopup({\n        show: true,\n        imageName: `${imageIndexToShow}.jpg`\n      });\n      playSound(660, 200); // Fun sound!\n      setNextImageScoreThreshold(prevThreshold => prevThreshold + IMAGE_POPUP_SCORE_INTERVAL);\n      setCurrentBarnFotoIndex(prevIndex => prevIndex + 1);\n      setTimeout(() => {\n        setImagePopup({\n          show: false,\n          imageName: ''\n        });\n      }, IMAGE_POPUP_DURATION);\n    }\n  }, [score, highScore, nextImageScoreThreshold, currentBarnFotoIndex, playSound]);\n\n  // Increase speed based on score\n  useEffect(() => {\n    const newSpeed = Math.max(50, INITIAL_SPEED - Math.floor(score / 5) * (INITIAL_SPEED * SPEED_INCREMENT));\n    setGameSpeed(newSpeed);\n  }, [score]);\n\n  // Keyboard controls\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (isGameOver) return;\n      switch (e.key) {\n        case 'ArrowUp':\n        case 'w':\n        case 'W':\n          e.preventDefault();\n          if (direction !== 'DOWN') setDirection('UP');\n          break;\n        case 'ArrowDown':\n        case 's':\n        case 'S':\n          e.preventDefault();\n          if (direction !== 'UP') setDirection('DOWN');\n          break;\n        case 'ArrowLeft':\n        case 'a':\n        case 'A':\n          e.preventDefault();\n          if (direction !== 'RIGHT') setDirection('LEFT');\n          break;\n        case 'ArrowRight':\n        case 'd':\n        case 'D':\n          e.preventDefault();\n          if (direction !== 'LEFT') setDirection('RIGHT');\n          break;\n        case ' ':\n          e.preventDefault();\n          setIsPaused(prev => !prev);\n          break;\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [direction, isGameOver]);\n\n  // Touch controls\n  const handleTouchStart = e => {\n    const touch = e.touches[0];\n    setTouchStart({\n      x: touch.clientX,\n      y: touch.clientY\n    });\n  };\n  const handleTouchEnd = e => {\n    if (isGameOver) return;\n    const touch = e.changedTouches[0];\n    const deltaX = touch.clientX - touchStart.x;\n    const deltaY = touch.clientY - touchStart.y;\n    const minSwipeDistance = 30; // Reduced for better responsiveness\n\n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      // Horizontal swipe\n      if (Math.abs(deltaX) > minSwipeDistance) {\n        if (deltaX > 0 && direction !== 'LEFT') setDirection('RIGHT');else if (deltaX < 0 && direction !== 'RIGHT') setDirection('LEFT');\n      }\n    } else {\n      // Vertical swipe\n      if (Math.abs(deltaY) > minSwipeDistance) {\n        if (deltaY > 0 && direction !== 'UP') setDirection('DOWN');else if (deltaY < 0 && direction !== 'DOWN') setDirection('UP');\n      }\n    }\n  };\n\n  // Reset game\n  const resetGame = () => {\n    setSnake(INITIAL_SNAKE);\n    setFood(generateFood());\n    setDirection(INITIAL_DIRECTION);\n    setScore(0);\n    setIsGameOver(false);\n    setIsPaused(false);\n    setGameSpeed(INITIAL_SPEED);\n    setHasShield(false);\n    setScoreMultiplier(1);\n    setCurrentThemeIndex(0);\n    // Reset Barn Foto Snacke Feature State\n    setImagePopup({\n      show: false,\n      imageName: ''\n    });\n    setNextImageScoreThreshold(IMAGE_POPUP_SCORE_INTERVAL);\n    setCurrentBarnFotoIndex(0);\n  };\n\n  // Virtual controls\n  const handleDirectionChange = newDirection => {\n    if (isGameOver) return;\n    const opposites = {\n      'UP': 'DOWN',\n      'DOWN': 'UP',\n      'LEFT': 'RIGHT',\n      'RIGHT': 'LEFT'\n    };\n    if (direction !== opposites[newDirection]) {\n      setDirection(newDirection);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 flex flex-col md:flex-row items-center md:items-start justify-center gap-4 md:gap-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full md:max-w-md lg:max-w-lg flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-auto\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl md:text-5xl font-bold text-white mb-2 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent\",\n            children: \"Snake Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-center gap-6 text-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg\",\n              children: [\"Score: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-yellow-400\",\n                children: score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-lg\",\n              children: [\"High: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold text-purple-400\",\n                children: highScore\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4 mb-4 h-8\",\n          children: [\" \", hasShield && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-500 text-white px-3 py-1 rounded-full text-sm animate-pulse\",\n            children: \"\\uD83D\\uDEE1\\uFE0F Shield Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), scoreMultiplier > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-yellow-500 text-white px-3 py-1 rounded-full text-sm animate-pulse\",\n            children: \"\\u26A1 2x Multiplier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), isPaused && !isGameOver &&\n          /*#__PURE__*/\n          // Only show if not game over\n          _jsxDEV(\"div\", {\n            className: \"bg-orange-500 text-white px-3 py-1 rounded-full text-sm\",\n            children: \"\\u23F8\\uFE0F Paused\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid gap-0 bg-gray-800 border-2 border-gray-600 rounded-lg p-2 mb-4 aspect-square max-w-md mx-auto\",\n            style: {\n              gridTemplateColumns: `repeat(${GRID_SIZE}, 1fr)`\n            },\n            onTouchStart: handleTouchStart,\n            onTouchEnd: handleTouchEnd,\n            children: Array.from({\n              length: GRID_SIZE * GRID_SIZE\n            }).map((_, index) => {\n              const x = index % GRID_SIZE;\n              const y = Math.floor(index / GRID_SIZE);\n              const isSnakeHead = snake.length > 0 && snake[0].x === x && snake[0].y === y;\n              const isSnakeBody = snake.slice(1).some(segment => segment.x === x && segment.y === y);\n              const isFood = food.x === x && food.y === y;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `\n                      aspect-square rounded-sm transition-all duration-150\n                      ${isSnakeHead ? `${currentSnakeColor.head} animate-pulse shadow-lg` : ''}\n                      ${isSnakeBody ? `${currentSnakeColor.body} transform scale-95` : ''}\n                      ${isFood ? '' : ''}\n                      ${!isSnakeHead && !isSnakeBody && !isFood ? 'bg-gray-700' : ''}\n                    `,\n                children: isFood && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl flex items-center justify-center h-full w-full animate-pulse\",\n                  children: POWER_UPS[food.type].icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), isGameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center rounded-lg z-20\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-3xl font-bold mb-4\",\n                children: \"Game Over!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl mb-4\",\n                children: [\"Final Score: \", score]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: resetGame,\n                className: \"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 mx-auto\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this), \"Play Again\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsPaused(!isPaused),\n            disabled: isGameOver,\n            className: \"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2\",\n            children: [isPaused ? /*#__PURE__*/_jsxDEV(Play, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 27\n            }, this) : /*#__PURE__*/_jsxDEV(Pause, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 48\n            }, this), isPaused ? 'Resume' : 'Pause']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resetGame,\n            className: \"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this), \"Reset\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsMuted(!isMuted),\n            className: \"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2\",\n            children: isMuted ? /*#__PURE__*/_jsxDEV(VolumeX, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 26\n            }, this) : /*#__PURE__*/_jsxDEV(Volume2, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-2 max-w-xs mx-auto\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDirectionChange('UP'),\n              className: \"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\",\n              children: /*#__PURE__*/_jsxDEV(ChevronUp, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDirectionChange('LEFT'),\n              className: \"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\",\n              children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center aspect-square\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsPaused(p => !p) /* Corrected setIsPaused */,\n                disabled: isGameOver,\n                className: \"bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-full flex items-center justify-center transition-colors active:bg-gray-500 h-12 w-12\" /* Adjusted size */,\n                children: isPaused ? /*#__PURE__*/_jsxDEV(Play, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 35\n                }, this) : /*#__PURE__*/_jsxDEV(Pause, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 56\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDirectionChange('RIGHT'),\n              className: \"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\",\n              children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDirectionChange('DOWN'),\n              className: \"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\",\n              children: /*#__PURE__*/_jsxDEV(ChevronDown, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-400 text-sm mt-8\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1\",\n            children: \"\\uD83C\\uDFAE Use arrow keys, WASD, or swipe to move\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1\",\n            children: [POWER_UPS.PIZZA.icon, \" & \", POWER_UPS.HAMBURGER.icon, \": Standard Food | \", POWER_UPS.SPEED.icon, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-400\",\n              children: POWER_UPS.SPEED.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 107\n            }, this), \" | \", POWER_UPS.MULTIPLIER.icon, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-yellow-400\",\n              children: POWER_UPS.MULTIPLIER.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 207\n            }, this), \" | \", POWER_UPS.SHIELD.icon, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-400\",\n              children: POWER_UPS.SHIELD.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 309\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Press SPACE to pause \\u2022 Speed increases every 5 points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this), imagePopup.show && NUM_BARN_FOTOS > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full md:w-64 lg:w-80 xl:w-96 bg-gray-800 p-4 rounded-lg shadow-xl flex flex-col items-center justify-center self-center md:self-start mt-6 md:mt-0 order-first md:order-last\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-3 md:p-4 rounded-xl shadow-2xl w-full transform transition-all animate-pulse\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `/barnfotosnake/${imagePopup.imageName}`,\n          alt: \"Barn Foto Snacke Time!\",\n          className: \"w-full h-auto rounded-lg object-contain max-h-[60vh] md:max-h-[calc(100vh-250px)]\" // Adjusted max-h for side panel\n          ,\n          onError: e => {\n            e.target.style.display = 'none';\n            const parent = e.target.parentNode;\n            if (parent) {\n              const errorText = document.createElement('p');\n              errorText.textContent = `Image ${imagePopup.imageName} not found! Make sure it is in public/barnfotosnake/`;\n              errorText.className = 'text-red-500 text-center p-2';\n              parent.insertBefore(errorText, e.target);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-lg md:text-xl font-bold mt-3 text-purple-600 animate-bounce\",\n          children: \"Snacke Time!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 5\n  }, this);\n};\n_s(SnakeGame, \"cGTL4wiXpHYXH1jTAsj/1DhBgc8=\");\n_c = SnakeGame;\nexport default SnakeGame;\nvar _c;\n$RefreshReg$(_c, \"SnakeGame\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","ChevronUp","ChevronDown","ChevronLeft","ChevronRight","Play","Pause","RotateCcw","Volume2","VolumeX","jsxDEV","_jsxDEV","GRID_SIZE","INITIAL_SNAKE","x","y","INITIAL_DIRECTION","INITIAL_SPEED","SPEED_INCREMENT","IMAGE_POPUP_SCORE_INTERVAL","NUM_BARN_FOTOS","IMAGE_POPUP_DURATION","SNAKE_COLOR_THEMES","head","body","POWER_UPS","PIZZA","icon","points","probability","description","HAMBURGER","SPEED","color","MULTIPLIER","SHIELD","getRandomFoodType","rand","Math","random","cumulativeProbability","type","SnakeGame","_s","snake","setSnake","food","setFood","direction","setDirection","score","setScore","highScore","setHighScore","saved","localStorage","getItem","parseInt","isGameOver","setIsGameOver","isPaused","setIsPaused","gameSpeed","setGameSpeed","hasShield","setHasShield","scoreMultiplier","setScoreMultiplier","isMuted","setIsMuted","touchStart","setTouchStart","currentThemeIndex","setCurrentThemeIndex","imagePopup","setImagePopup","show","imageName","nextImageScoreThreshold","setNextImageScoreThreshold","currentBarnFotoIndex","setCurrentBarnFotoIndex","gameLoopRef","audioContextRef","currentSnakeColor","current","window","AudioContext","webkitAudioContext","e","console","log","playSound","frequency","duration","oscillator","createOscillator","gainNode","createGain","connect","destination","setValueAtTime","currentTime","gain","exponentialRampToValueAtTime","start","stop","generateFood","newFoodPosition","floor","some","segment","handleFoodConsumption","foodType","basePoints","prev","length","max","setTimeout","moveSnake","currentSnake","newSnake","slice","clearTimeout","setItem","toString","imageIndexToShow","prevThreshold","prevIndex","newSpeed","handleKeyPress","key","preventDefault","addEventListener","removeEventListener","handleTouchStart","touch","touches","clientX","clientY","handleTouchEnd","changedTouches","deltaX","deltaY","minSwipeDistance","abs","resetGame","handleDirectionChange","newDirection","opposites","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","gridTemplateColumns","onTouchStart","onTouchEnd","Array","from","map","_","index","isSnakeHead","isSnakeBody","isFood","onClick","size","disabled","p","src","alt","onError","target","display","parent","parentNode","errorText","document","createElement","textContent","insertBefore","_c","$RefreshReg$"],"sources":["C:/Users/yosef/snake_gmae/src/SnakeGame.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { ChevronUp, ChevronDown, ChevronLeft, ChevronRight, Play, Pause, RotateCcw, Volume2, VolumeX } from 'lucide-react';\r\n\r\nconst GRID_SIZE = 15;\r\nconst INITIAL_SNAKE = [{ x: 7, y: 7 }];\r\nconst INITIAL_DIRECTION = 'RIGHT';\r\nconst INITIAL_SPEED = 150;\r\nconst SPEED_INCREMENT = 0.1;\r\n\r\n// Barn Foto Snacke Feature Constants\r\nconst IMAGE_POPUP_SCORE_INTERVAL = 15;\r\nconst NUM_BARN_FOTOS = 21; // Updated to 21 images\r\nconst IMAGE_POPUP_DURATION = 3000; // 3 seconds\r\n\r\nconst SNAKE_COLOR_THEMES = [\r\n  { head: 'bg-gradient-to-br from-indigo-400 to-indigo-600', body: 'bg-gradient-to-br from-indigo-500 to-indigo-700' },\r\n  { head: 'bg-gradient-to-br from-green-400 to-green-600', body: 'bg-gradient-to-br from-green-500 to-green-700' },\r\n  { head: 'bg-gradient-to-br from-pink-400 to-pink-600', body: 'bg-gradient-to-br from-pink-500 to-pink-700' },\r\n  { head: 'bg-gradient-to-br from-yellow-400 to-yellow-600', body: 'bg-gradient-to-br from-yellow-500 to-yellow-700' },\r\n  { head: 'bg-gradient-to-br from-teal-400 to-teal-600', body: 'bg-gradient-to-br from-teal-500 to-teal-700' },\r\n];\r\n\r\nconst POWER_UPS = {\r\n  PIZZA: { icon: '🍕', points: 1, probability: 0.35, description: \"Pizza\" },\r\n  HAMBURGER: { icon: '🍔', points: 1, probability: 0.35, description: \"Hamburger\" },\r\n  SPEED: { icon: '⚡️', points: 2, probability: 0.1, description: \"Speed Boost\", color: 'bg-green-500' },\r\n  MULTIPLIER: { icon: '✨', points: 3, probability: 0.1, description: \"2x Score\", color: 'bg-yellow-500' },\r\n  SHIELD: { icon: '🛡️', points: 1, probability: 0.1, description: \"Shield\", color: 'bg-blue-500' }\r\n};\r\n\r\nconst getRandomFoodType = () => {\r\n  const rand = Math.random();\r\n  let cumulativeProbability = 0;\r\n  for (const type in POWER_UPS) {\r\n    cumulativeProbability += POWER_UPS[type].probability;\r\n    if (rand < cumulativeProbability) {\r\n      return type;\r\n    }\r\n  }\r\n  return 'PIZZA'; // Fallback, should ideally be covered by probabilities summing to 1\r\n};\r\n\r\nconst SnakeGame = () => {\r\n  const [snake, setSnake] = useState(INITIAL_SNAKE);\r\n  const [food, setFood] = useState({ x: 10, y: 10, type: getRandomFoodType() });\r\n  const [direction, setDirection] = useState(INITIAL_DIRECTION);\r\n  const [score, setScore] = useState(0);\r\n  const [highScore, setHighScore] = useState(() => {\r\n    const saved = localStorage.getItem('snakeHighScore');\r\n    return saved ? parseInt(saved) : 0;\r\n  });\r\n  const [isGameOver, setIsGameOver] = useState(false);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [gameSpeed, setGameSpeed] = useState(INITIAL_SPEED);\r\n  const [hasShield, setHasShield] = useState(false);\r\n  const [scoreMultiplier, setScoreMultiplier] = useState(1);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [touchStart, setTouchStart] = useState({ x: 0, y: 0 });\r\n  const [currentThemeIndex, setCurrentThemeIndex] = useState(0);\r\n\r\n  // Barn Foto Snacke Feature State\r\n  const [imagePopup, setImagePopup] = useState({ show: false, imageName: '' });\r\n  const [nextImageScoreThreshold, setNextImageScoreThreshold] = useState(IMAGE_POPUP_SCORE_INTERVAL);\r\n  const [currentBarnFotoIndex, setCurrentBarnFotoIndex] = useState(0);\r\n\r\n  const gameLoopRef = useRef();\r\n  const audioContextRef = useRef();\r\n  const currentSnakeColor = SNAKE_COLOR_THEMES[currentThemeIndex];\r\n\r\n  // Initialize audio context\r\n  useEffect(() => {\r\n    if (!isMuted && !audioContextRef.current) {\r\n      try {\r\n        audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\r\n      } catch (e) {\r\n        console.log('Audio not supported');\r\n      }\r\n    }\r\n  }, [isMuted]);\r\n\r\n  // Play sound effect\r\n  const playSound = useCallback((frequency, duration = 100) => {\r\n    if (isMuted || !audioContextRef.current) return;\r\n    \r\n    try {\r\n      const oscillator = audioContextRef.current.createOscillator();\r\n      const gainNode = audioContextRef.current.createGain();\r\n      \r\n      oscillator.connect(gainNode);\r\n      gainNode.connect(audioContextRef.current.destination);\r\n      \r\n      oscillator.frequency.setValueAtTime(frequency, audioContextRef.current.currentTime);\r\n      oscillator.type = 'square';\r\n      \r\n      gainNode.gain.setValueAtTime(0.1, audioContextRef.current.currentTime);\r\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContextRef.current.currentTime + duration / 1000);\r\n      \r\n      oscillator.start(audioContextRef.current.currentTime);\r\n      oscillator.stop(audioContextRef.current.currentTime + duration / 1000);\r\n    } catch (e) {\r\n      console.log('Audio playback failed');\r\n    }\r\n  }, [isMuted]);\r\n\r\n  // Generate random food position\r\n  const generateFood = useCallback(() => {\r\n    let newFoodPosition;\r\n    do {\r\n      newFoodPosition = {\r\n        x: Math.floor(Math.random() * GRID_SIZE),\r\n        y: Math.floor(Math.random() * GRID_SIZE),\r\n      };\r\n    } while (snake.some(segment => segment.x === newFoodPosition.x && segment.y === newFoodPosition.y));\r\n    \r\n    return {...newFoodPosition, type: getRandomFoodType()};\r\n  }, [snake]);\r\n\r\n  // Handle food consumption\r\n  const handleFoodConsumption = useCallback((foodType) => {\r\n    const basePoints = POWER_UPS[foodType].points;\r\n    const points = basePoints * scoreMultiplier;\r\n    \r\n    setScore(prev => prev + points);\r\n    playSound(440, 150);\r\n    setCurrentThemeIndex(prev => (prev + 1) % SNAKE_COLOR_THEMES.length);\r\n    \r\n    switch (foodType) {\r\n      case 'SPEED':\r\n        setGameSpeed(prev => Math.max(50, prev * 0.8));\r\n        setTimeout(() => setGameSpeed(prev => prev / 0.8), 5000);\r\n        break;\r\n      case 'MULTIPLIER':\r\n        setScoreMultiplier(2);\r\n        setTimeout(() => setScoreMultiplier(1), 8000);\r\n        break;\r\n      case 'SHIELD':\r\n        setHasShield(true);\r\n        setTimeout(() => setHasShield(false), 10000);\r\n        break;\r\n    }\r\n  }, [scoreMultiplier, playSound]);\r\n\r\n  // Move snake\r\n  const moveSnake = useCallback(() => {\r\n    if (isPaused || isGameOver) return;\r\n\r\n    setSnake(currentSnake => {\r\n      const head = { ...currentSnake[0] };\r\n      \r\n      switch (direction) {\r\n        case 'UP': head.y -= 1; break;\r\n        case 'DOWN': head.y += 1; break;\r\n        case 'LEFT': head.x -= 1; break;\r\n        case 'RIGHT': head.x += 1; break;\r\n      }\r\n\r\n      // Wall collision\r\n      if (head.x < 0 || head.x >= GRID_SIZE || head.y < 0 || head.y >= GRID_SIZE) {\r\n        if (hasShield) {\r\n          setHasShield(false);\r\n          playSound(200, 300);\r\n          return currentSnake;\r\n        } else {\r\n          setIsGameOver(true);\r\n          playSound(150, 500);\r\n          return currentSnake;\r\n        }\r\n      }\r\n\r\n      // Self collision\r\n      if (currentSnake.some(segment => segment.x === head.x && segment.y === head.y)) {\r\n        if (hasShield) {\r\n          setHasShield(false);\r\n          playSound(200, 300);\r\n          return currentSnake;\r\n        } else {\r\n          setIsGameOver(true);\r\n          playSound(150, 500);\r\n          return currentSnake;\r\n        }\r\n      }\r\n\r\n      const newSnake = [head, ...currentSnake];\r\n\r\n      // Food collision\r\n      if (head.x === food.x && head.y === food.y) {\r\n        handleFoodConsumption(food.type);\r\n        setFood(generateFood());\r\n        return newSnake;\r\n      }\r\n\r\n      return newSnake.slice(0, -1);\r\n    });\r\n  }, [direction, isPaused, isGameOver, food, hasShield, handleFoodConsumption, generateFood, playSound]);\r\n\r\n  // Game loop\r\n  useEffect(() => {\r\n    if (!isGameOver && !isPaused) {\r\n      gameLoopRef.current = setTimeout(moveSnake, gameSpeed);\r\n    }\r\n    return () => clearTimeout(gameLoopRef.current);\r\n  }, [moveSnake, gameSpeed, isGameOver, isPaused]);\r\n\r\n  // Update high score & Barn Foto Snacke popup\r\n  useEffect(() => {\r\n    if (score > highScore) {\r\n      setHighScore(score);\r\n      localStorage.setItem('snakeHighScore', score.toString());\r\n    }\r\n\r\n    if (score > 0 && score >= nextImageScoreThreshold && NUM_BARN_FOTOS > 0) {\r\n      const imageIndexToShow = (currentBarnFotoIndex % NUM_BARN_FOTOS) + 1; // 1-based index for image names\r\n      setImagePopup({ show: true, imageName: `${imageIndexToShow}.jpg` });\r\n      playSound(660, 200); // Fun sound!\r\n      setNextImageScoreThreshold(prevThreshold => prevThreshold + IMAGE_POPUP_SCORE_INTERVAL);\r\n      setCurrentBarnFotoIndex(prevIndex => prevIndex + 1);\r\n\r\n      setTimeout(() => {\r\n        setImagePopup({ show: false, imageName: '' });\r\n      }, IMAGE_POPUP_DURATION);\r\n    }\r\n  }, [score, highScore, nextImageScoreThreshold, currentBarnFotoIndex, playSound]);\r\n\r\n  // Increase speed based on score\r\n  useEffect(() => {\r\n    const newSpeed = Math.max(50, INITIAL_SPEED - Math.floor(score / 5) * (INITIAL_SPEED * SPEED_INCREMENT));\r\n    setGameSpeed(newSpeed);\r\n  }, [score]);\r\n\r\n  // Keyboard controls\r\n  useEffect(() => {\r\n    const handleKeyPress = (e) => {\r\n      if (isGameOver) return;\r\n      \r\n      switch (e.key) {\r\n        case 'ArrowUp':\r\n        case 'w':\r\n        case 'W':\r\n          e.preventDefault();\r\n          if (direction !== 'DOWN') setDirection('UP');\r\n          break;\r\n        case 'ArrowDown':\r\n        case 's':\r\n        case 'S':\r\n          e.preventDefault();\r\n          if (direction !== 'UP') setDirection('DOWN');\r\n          break;\r\n        case 'ArrowLeft':\r\n        case 'a':\r\n        case 'A':\r\n          e.preventDefault();\r\n          if (direction !== 'RIGHT') setDirection('LEFT');\r\n          break;\r\n        case 'ArrowRight':\r\n        case 'd':\r\n        case 'D':\r\n          e.preventDefault();\r\n          if (direction !== 'LEFT') setDirection('RIGHT');\r\n          break;\r\n        case ' ':\r\n          e.preventDefault();\r\n          setIsPaused(prev => !prev);\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    return () => window.removeEventListener('keydown', handleKeyPress);\r\n  }, [direction, isGameOver]);\r\n\r\n  // Touch controls\r\n  const handleTouchStart = (e) => {\r\n    const touch = e.touches[0];\r\n    setTouchStart({ x: touch.clientX, y: touch.clientY });\r\n  };\r\n\r\n  const handleTouchEnd = (e) => {\r\n    if (isGameOver) return;\r\n    \r\n    const touch = e.changedTouches[0];\r\n    const deltaX = touch.clientX - touchStart.x;\r\n    const deltaY = touch.clientY - touchStart.y;\r\n    const minSwipeDistance = 30; // Reduced for better responsiveness\r\n\r\n    if (Math.abs(deltaX) > Math.abs(deltaY)) { // Horizontal swipe\r\n      if (Math.abs(deltaX) > minSwipeDistance) {\r\n        if (deltaX > 0 && direction !== 'LEFT') setDirection('RIGHT');\r\n        else if (deltaX < 0 && direction !== 'RIGHT') setDirection('LEFT');\r\n      }\r\n    } else { // Vertical swipe\r\n      if (Math.abs(deltaY) > minSwipeDistance) {\r\n        if (deltaY > 0 && direction !== 'UP') setDirection('DOWN');\r\n        else if (deltaY < 0 && direction !== 'DOWN') setDirection('UP');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Reset game\r\n  const resetGame = () => {\r\n    setSnake(INITIAL_SNAKE);\r\n    setFood(generateFood()); \r\n    setDirection(INITIAL_DIRECTION);\r\n    setScore(0);\r\n    setIsGameOver(false);\r\n    setIsPaused(false);\r\n    setGameSpeed(INITIAL_SPEED);\r\n    setHasShield(false);\r\n    setScoreMultiplier(1);\r\n    setCurrentThemeIndex(0); \r\n    // Reset Barn Foto Snacke Feature State\r\n    setImagePopup({ show: false, imageName: '' });\r\n    setNextImageScoreThreshold(IMAGE_POPUP_SCORE_INTERVAL);\r\n    setCurrentBarnFotoIndex(0);\r\n  };\r\n\r\n  // Virtual controls\r\n  const handleDirectionChange = (newDirection) => {\r\n    if (isGameOver) return;\r\n    \r\n    const opposites = {\r\n      'UP': 'DOWN',\r\n      'DOWN': 'UP',\r\n      'LEFT': 'RIGHT',\r\n      'RIGHT': 'LEFT'\r\n    };\r\n    \r\n    if (direction !== opposites[newDirection]) {\r\n      setDirection(newDirection);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 flex flex-col md:flex-row items-center md:items-start justify-center gap-4 md:gap-8\">\r\n      {/* Game Area Column */}\r\n      <div className=\"w-full md:max-w-md lg:max-w-lg flex-shrink-0\">\r\n        <div className=\"mx-auto\"> {/* Removed max-w-2xl w-full from here, as parent controls width now */}\r\n          {/* Header */}\r\n          <div className=\"text-center mb-6\">\r\n            <h1 className=\"text-4xl md:text-5xl font-bold text-white mb-2 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent\">\r\n              Snake Game\r\n            </h1>\r\n            <div className=\"flex justify-center items-center gap-6 text-white\">\r\n              <div className=\"text-lg\">Score: <span className=\"font-bold text-yellow-400\">{score}</span></div>\r\n              <div className=\"text-lg\">High: <span className=\"font-bold text-purple-400\">{highScore}</span></div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status Indicators */}\r\n          <div className=\"flex justify-center items-center gap-4 mb-4 h-8\"> {/* Added fixed height */}\r\n            {hasShield && (\r\n              <div className=\"bg-blue-500 text-white px-3 py-1 rounded-full text-sm animate-pulse\">\r\n                🛡️ Shield Active\r\n              </div>\r\n            )}\r\n            {scoreMultiplier > 1 && (\r\n              <div className=\"bg-yellow-500 text-white px-3 py-1 rounded-full text-sm animate-pulse\">\r\n                ⚡ 2x Multiplier\r\n              </div>\r\n            )}\r\n            {isPaused && !isGameOver && ( // Only show if not game over\r\n              <div className=\"bg-orange-500 text-white px-3 py-1 rounded-full text-sm\">\r\n                ⏸️ Paused\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Game Board */}\r\n          <div className=\"relative\">\r\n            <div \r\n              className=\"grid gap-0 bg-gray-800 border-2 border-gray-600 rounded-lg p-2 mb-4 aspect-square max-w-md mx-auto\"\r\n              style={{ gridTemplateColumns: `repeat(${GRID_SIZE}, 1fr)` }}\r\n              onTouchStart={handleTouchStart}\r\n              onTouchEnd={handleTouchEnd}\r\n            >\r\n              {Array.from({ length: GRID_SIZE * GRID_SIZE }).map((_, index) => {\r\n                const x = index % GRID_SIZE;\r\n                const y = Math.floor(index / GRID_SIZE);\r\n                const isSnakeHead = snake.length > 0 && snake[0].x === x && snake[0].y === y;\r\n                const isSnakeBody = snake.slice(1).some(segment => segment.x === x && segment.y === y);\r\n                const isFood = food.x === x && food.y === y;\r\n\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    className={`\r\n                      aspect-square rounded-sm transition-all duration-150\r\n                      ${isSnakeHead ? `${currentSnakeColor.head} animate-pulse shadow-lg` : ''}\r\n                      ${isSnakeBody ? `${currentSnakeColor.body} transform scale-95` : ''}\r\n                      ${isFood ? '' : ''}\r\n                      ${!isSnakeHead && !isSnakeBody && !isFood ? 'bg-gray-700' : ''}\r\n                    `}\r\n                  >\r\n                    {isFood && (\r\n                      <span className=\"text-2xl flex items-center justify-center h-full w-full animate-pulse\">\r\n                        {POWER_UPS[food.type].icon}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Game Over Overlay */}\r\n            {isGameOver && (\r\n              <div className=\"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center rounded-lg z-20\">\r\n                <div className=\"text-center text-white\">\r\n                  <h2 className=\"text-3xl font-bold mb-4\">Game Over!</h2>\r\n                  <p className=\"text-xl mb-4\">Final Score: {score}</p>\r\n                  <button\r\n                    onClick={resetGame}\r\n                    className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 mx-auto\"\r\n                  >\r\n                    <RotateCcw size={20} />\r\n                    Play Again\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Controls */}\r\n          <div className=\"flex justify-center items-center gap-4 mb-6\">\r\n            <button\r\n              onClick={() => setIsPaused(!isPaused)}\r\n              disabled={isGameOver}\r\n              className=\"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2\"\r\n            >\r\n              {isPaused ? <Play size={20} /> : <Pause size={20} />}\r\n              {isPaused ? 'Resume' : 'Pause'}\r\n            </button>\r\n            \r\n            <button\r\n              onClick={resetGame}\r\n              className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2\"\r\n            >\r\n              <RotateCcw size={20} />\r\n              Reset\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setIsMuted(!isMuted)}\r\n              className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2\"\r\n            >\r\n              {isMuted ? <VolumeX size={20} /> : <Volume2 size={20} />}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Virtual D-Pad for Mobile */}\r\n          <div className=\"md:hidden\">\r\n            <div className=\"grid grid-cols-3 gap-2 max-w-xs mx-auto\"> {/* Adjusted max-w for better fit */}\r\n              <div></div>\r\n              <button\r\n                onClick={() => handleDirectionChange('UP')}\r\n                className=\"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\"\r\n              >\r\n                <ChevronUp size={24} />\r\n              </button>\r\n              <div></div>\r\n              <button\r\n                onClick={() => handleDirectionChange('LEFT')}\r\n                className=\"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\"\r\n              >\r\n                <ChevronLeft size={24} />\r\n              </button>\r\n               <div className=\"flex items-center justify-center aspect-square\"> \r\n                  <button \r\n                      onClick={() => setIsPaused(p => !p)} /* Corrected setIsPaused */\r\n                      disabled={isGameOver}\r\n                      className=\"bg-gray-700 hover:bg-gray-600 text-white p-3 rounded-full flex items-center justify-center transition-colors active:bg-gray-500 h-12 w-12\" /* Adjusted size */\r\n                  >\r\n                      {isPaused ? <Play size={18} /> : <Pause size={18} />}\r\n                  </button>\r\n              </div>\r\n              <button\r\n                onClick={() => handleDirectionChange('RIGHT')}\r\n                className=\"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\"\r\n              >\r\n                <ChevronRight size={24} />\r\n              </button>\r\n              <div></div>\r\n              <button\r\n                onClick={() => handleDirectionChange('DOWN')}\r\n                className=\"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg flex items-center justify-center transition-colors active:bg-gray-500 aspect-square\"\r\n              >\r\n                <ChevronDown size={24} />\r\n              </button>\r\n              <div></div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Instructions */}\r\n          <div className=\"text-center text-gray-400 text-sm mt-8\"> {/* Increased mt */}\r\n            <p className=\"mb-1\">🎮 Use arrow keys, WASD, or swipe to move</p>\r\n            <p className=\"mb-1\">\r\n              {POWER_UPS.PIZZA.icon} & {POWER_UPS.HAMBURGER.icon}: Standard Food | {POWER_UPS.SPEED.icon} <span className=\"text-green-400\">{POWER_UPS.SPEED.description}</span> | {POWER_UPS.MULTIPLIER.icon} <span className=\"text-yellow-400\">{POWER_UPS.MULTIPLIER.description}</span> | {POWER_UPS.SHIELD.icon} <span className=\"text-blue-400\">{POWER_UPS.SHIELD.description}</span>\r\n            </p>\r\n            <p>Press SPACE to pause • Speed increases every 5 points</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Side Panel for Barn Foto Snacke (conditionally rendered) */}\r\n      {imagePopup.show && NUM_BARN_FOTOS > 0 && (\r\n        <div className=\"w-full md:w-64 lg:w-80 xl:w-96 bg-gray-800 p-4 rounded-lg shadow-xl flex flex-col items-center justify-center self-center md:self-start mt-6 md:mt-0 order-first md:order-last\">\r\n          <div className=\"bg-white p-3 md:p-4 rounded-xl shadow-2xl w-full transform transition-all animate-pulse\">\r\n            <img \r\n              src={`/barnfotosnake/${imagePopup.imageName}`} \r\n              alt=\"Barn Foto Snacke Time!\" \r\n              className=\"w-full h-auto rounded-lg object-contain max-h-[60vh] md:max-h-[calc(100vh-250px)]\" // Adjusted max-h for side panel\r\n              onError={(e) => { \r\n                e.target.style.display='none'; \r\n                const parent = e.target.parentNode;\r\n                if (parent) {\r\n                    const errorText = document.createElement('p');\r\n                    errorText.textContent = `Image ${imagePopup.imageName} not found! Make sure it is in public/barnfotosnake/`;\r\n                    errorText.className = 'text-red-500 text-center p-2';\r\n                    parent.insertBefore(errorText, e.target);\r\n                }\r\n              }}\r\n            />\r\n            <p className=\"text-center text-lg md:text-xl font-bold mt-3 text-purple-600 animate-bounce\">Snacke Time!</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SnakeGame; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AACvE,SAASC,SAAS,EAAEC,WAAW,EAAEC,WAAW,EAAEC,YAAY,EAAEC,IAAI,EAAEC,KAAK,EAAEC,SAAS,EAAEC,OAAO,EAAEC,OAAO,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3H,MAAMC,SAAS,GAAG,EAAE;AACpB,MAAMC,aAAa,GAAG,CAAC;EAAEC,CAAC,EAAE,CAAC;EAAEC,CAAC,EAAE;AAAE,CAAC,CAAC;AACtC,MAAMC,iBAAiB,GAAG,OAAO;AACjC,MAAMC,aAAa,GAAG,GAAG;AACzB,MAAMC,eAAe,GAAG,GAAG;;AAE3B;AACA,MAAMC,0BAA0B,GAAG,EAAE;AACrC,MAAMC,cAAc,GAAG,EAAE,CAAC,CAAC;AAC3B,MAAMC,oBAAoB,GAAG,IAAI,CAAC,CAAC;;AAEnC,MAAMC,kBAAkB,GAAG,CACzB;EAAEC,IAAI,EAAE,iDAAiD;EAAEC,IAAI,EAAE;AAAkD,CAAC,EACpH;EAAED,IAAI,EAAE,+CAA+C;EAAEC,IAAI,EAAE;AAAgD,CAAC,EAChH;EAAED,IAAI,EAAE,6CAA6C;EAAEC,IAAI,EAAE;AAA8C,CAAC,EAC5G;EAAED,IAAI,EAAE,iDAAiD;EAAEC,IAAI,EAAE;AAAkD,CAAC,EACpH;EAAED,IAAI,EAAE,6CAA6C;EAAEC,IAAI,EAAE;AAA8C,CAAC,CAC7G;AAED,MAAMC,SAAS,GAAG;EAChBC,KAAK,EAAE;IAAEC,IAAI,EAAE,IAAI;IAAEC,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE,IAAI;IAAEC,WAAW,EAAE;EAAQ,CAAC;EACzEC,SAAS,EAAE;IAAEJ,IAAI,EAAE,IAAI;IAAEC,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE,IAAI;IAAEC,WAAW,EAAE;EAAY,CAAC;EACjFE,KAAK,EAAE;IAAEL,IAAI,EAAE,IAAI;IAAEC,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE,GAAG;IAAEC,WAAW,EAAE,aAAa;IAAEG,KAAK,EAAE;EAAe,CAAC;EACrGC,UAAU,EAAE;IAAEP,IAAI,EAAE,GAAG;IAAEC,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE,GAAG;IAAEC,WAAW,EAAE,UAAU;IAAEG,KAAK,EAAE;EAAgB,CAAC;EACvGE,MAAM,EAAE;IAAER,IAAI,EAAE,KAAK;IAAEC,MAAM,EAAE,CAAC;IAAEC,WAAW,EAAE,GAAG;IAAEC,WAAW,EAAE,QAAQ;IAAEG,KAAK,EAAE;EAAc;AAClG,CAAC;AAED,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;EAC9B,MAAMC,IAAI,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC;EAC1B,IAAIC,qBAAqB,GAAG,CAAC;EAC7B,KAAK,MAAMC,IAAI,IAAIhB,SAAS,EAAE;IAC5Be,qBAAqB,IAAIf,SAAS,CAACgB,IAAI,CAAC,CAACZ,WAAW;IACpD,IAAIQ,IAAI,GAAGG,qBAAqB,EAAE;MAChC,OAAOC,IAAI;IACb;EACF;EACA,OAAO,OAAO,CAAC,CAAC;AAClB,CAAC;AAED,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhD,QAAQ,CAACgB,aAAa,CAAC;EACjD,MAAM,CAACiC,IAAI,EAAEC,OAAO,CAAC,GAAGlD,QAAQ,CAAC;IAAEiB,CAAC,EAAE,EAAE;IAAEC,CAAC,EAAE,EAAE;IAAE0B,IAAI,EAAEL,iBAAiB,CAAC;EAAE,CAAC,CAAC;EAC7E,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGpD,QAAQ,CAACmB,iBAAiB,CAAC;EAC7D,MAAM,CAACkC,KAAK,EAAEC,QAAQ,CAAC,GAAGtD,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACuD,SAAS,EAAEC,YAAY,CAAC,GAAGxD,QAAQ,CAAC,MAAM;IAC/C,MAAMyD,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC;IACpD,OAAOF,KAAK,GAAGG,QAAQ,CAACH,KAAK,CAAC,GAAG,CAAC;EACpC,CAAC,CAAC;EACF,MAAM,CAACI,UAAU,EAAEC,aAAa,CAAC,GAAG9D,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC+D,QAAQ,EAAEC,WAAW,CAAC,GAAGhE,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACiE,SAAS,EAAEC,YAAY,CAAC,GAAGlE,QAAQ,CAACoB,aAAa,CAAC;EACzD,MAAM,CAAC+C,SAAS,EAAEC,YAAY,CAAC,GAAGpE,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACqE,eAAe,EAAEC,kBAAkB,CAAC,GAAGtE,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAACuE,OAAO,EAAEC,UAAU,CAAC,GAAGxE,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACyE,UAAU,EAAEC,aAAa,CAAC,GAAG1E,QAAQ,CAAC;IAAEiB,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAC5D,MAAM,CAACyD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG5E,QAAQ,CAAC,CAAC,CAAC;;EAE7D;EACA,MAAM,CAAC6E,UAAU,EAAEC,aAAa,CAAC,GAAG9E,QAAQ,CAAC;IAAE+E,IAAI,EAAE,KAAK;IAAEC,SAAS,EAAE;EAAG,CAAC,CAAC;EAC5E,MAAM,CAACC,uBAAuB,EAAEC,0BAA0B,CAAC,GAAGlF,QAAQ,CAACsB,0BAA0B,CAAC;EAClG,MAAM,CAAC6D,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGpF,QAAQ,CAAC,CAAC,CAAC;EAEnE,MAAMqF,WAAW,GAAGlF,MAAM,CAAC,CAAC;EAC5B,MAAMmF,eAAe,GAAGnF,MAAM,CAAC,CAAC;EAChC,MAAMoF,iBAAiB,GAAG9D,kBAAkB,CAACkD,iBAAiB,CAAC;;EAE/D;EACA1E,SAAS,CAAC,MAAM;IACd,IAAI,CAACsE,OAAO,IAAI,CAACe,eAAe,CAACE,OAAO,EAAE;MACxC,IAAI;QACFF,eAAe,CAACE,OAAO,GAAG,KAAKC,MAAM,CAACC,YAAY,IAAID,MAAM,CAACE,kBAAkB,EAAE,CAAC;MACpF,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MACpC;IACF;EACF,CAAC,EAAE,CAACvB,OAAO,CAAC,CAAC;;EAEb;EACA,MAAMwB,SAAS,GAAG7F,WAAW,CAAC,CAAC8F,SAAS,EAAEC,QAAQ,GAAG,GAAG,KAAK;IAC3D,IAAI1B,OAAO,IAAI,CAACe,eAAe,CAACE,OAAO,EAAE;IAEzC,IAAI;MACF,MAAMU,UAAU,GAAGZ,eAAe,CAACE,OAAO,CAACW,gBAAgB,CAAC,CAAC;MAC7D,MAAMC,QAAQ,GAAGd,eAAe,CAACE,OAAO,CAACa,UAAU,CAAC,CAAC;MAErDH,UAAU,CAACI,OAAO,CAACF,QAAQ,CAAC;MAC5BA,QAAQ,CAACE,OAAO,CAAChB,eAAe,CAACE,OAAO,CAACe,WAAW,CAAC;MAErDL,UAAU,CAACF,SAAS,CAACQ,cAAc,CAACR,SAAS,EAAEV,eAAe,CAACE,OAAO,CAACiB,WAAW,CAAC;MACnFP,UAAU,CAACtD,IAAI,GAAG,QAAQ;MAE1BwD,QAAQ,CAACM,IAAI,CAACF,cAAc,CAAC,GAAG,EAAElB,eAAe,CAACE,OAAO,CAACiB,WAAW,CAAC;MACtEL,QAAQ,CAACM,IAAI,CAACC,4BAA4B,CAAC,IAAI,EAAErB,eAAe,CAACE,OAAO,CAACiB,WAAW,GAAGR,QAAQ,GAAG,IAAI,CAAC;MAEvGC,UAAU,CAACU,KAAK,CAACtB,eAAe,CAACE,OAAO,CAACiB,WAAW,CAAC;MACrDP,UAAU,CAACW,IAAI,CAACvB,eAAe,CAACE,OAAO,CAACiB,WAAW,GAAGR,QAAQ,GAAG,IAAI,CAAC;IACxE,CAAC,CAAC,OAAOL,CAAC,EAAE;MACVC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IACtC;EACF,CAAC,EAAE,CAACvB,OAAO,CAAC,CAAC;;EAEb;EACA,MAAMuC,YAAY,GAAG5G,WAAW,CAAC,MAAM;IACrC,IAAI6G,eAAe;IACnB,GAAG;MACDA,eAAe,GAAG;QAChB9F,CAAC,EAAEwB,IAAI,CAACuE,KAAK,CAACvE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG3B,SAAS,CAAC;QACxCG,CAAC,EAAEuB,IAAI,CAACuE,KAAK,CAACvE,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG3B,SAAS;MACzC,CAAC;IACH,CAAC,QAAQgC,KAAK,CAACkE,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACjG,CAAC,KAAK8F,eAAe,CAAC9F,CAAC,IAAIiG,OAAO,CAAChG,CAAC,KAAK6F,eAAe,CAAC7F,CAAC,CAAC;IAElG,OAAO;MAAC,GAAG6F,eAAe;MAAEnE,IAAI,EAAEL,iBAAiB,CAAC;IAAC,CAAC;EACxD,CAAC,EAAE,CAACQ,KAAK,CAAC,CAAC;;EAEX;EACA,MAAMoE,qBAAqB,GAAGjH,WAAW,CAAEkH,QAAQ,IAAK;IACtD,MAAMC,UAAU,GAAGzF,SAAS,CAACwF,QAAQ,CAAC,CAACrF,MAAM;IAC7C,MAAMA,MAAM,GAAGsF,UAAU,GAAGhD,eAAe;IAE3Cf,QAAQ,CAACgE,IAAI,IAAIA,IAAI,GAAGvF,MAAM,CAAC;IAC/BgE,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC;IACnBnB,oBAAoB,CAAC0C,IAAI,IAAI,CAACA,IAAI,GAAG,CAAC,IAAI7F,kBAAkB,CAAC8F,MAAM,CAAC;IAEpE,QAAQH,QAAQ;MACd,KAAK,OAAO;QACVlD,YAAY,CAACoD,IAAI,IAAI7E,IAAI,CAAC+E,GAAG,CAAC,EAAE,EAAEF,IAAI,GAAG,GAAG,CAAC,CAAC;QAC9CG,UAAU,CAAC,MAAMvD,YAAY,CAACoD,IAAI,IAAIA,IAAI,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC;QACxD;MACF,KAAK,YAAY;QACfhD,kBAAkB,CAAC,CAAC,CAAC;QACrBmD,UAAU,CAAC,MAAMnD,kBAAkB,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;QAC7C;MACF,KAAK,QAAQ;QACXF,YAAY,CAAC,IAAI,CAAC;QAClBqD,UAAU,CAAC,MAAMrD,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC;QAC5C;IACJ;EACF,CAAC,EAAE,CAACC,eAAe,EAAE0B,SAAS,CAAC,CAAC;;EAEhC;EACA,MAAM2B,SAAS,GAAGxH,WAAW,CAAC,MAAM;IAClC,IAAI6D,QAAQ,IAAIF,UAAU,EAAE;IAE5Bb,QAAQ,CAAC2E,YAAY,IAAI;MACvB,MAAMjG,IAAI,GAAG;QAAE,GAAGiG,YAAY,CAAC,CAAC;MAAE,CAAC;MAEnC,QAAQxE,SAAS;QACf,KAAK,IAAI;UAAEzB,IAAI,CAACR,CAAC,IAAI,CAAC;UAAE;QACxB,KAAK,MAAM;UAAEQ,IAAI,CAACR,CAAC,IAAI,CAAC;UAAE;QAC1B,KAAK,MAAM;UAAEQ,IAAI,CAACT,CAAC,IAAI,CAAC;UAAE;QAC1B,KAAK,OAAO;UAAES,IAAI,CAACT,CAAC,IAAI,CAAC;UAAE;MAC7B;;MAEA;MACA,IAAIS,IAAI,CAACT,CAAC,GAAG,CAAC,IAAIS,IAAI,CAACT,CAAC,IAAIF,SAAS,IAAIW,IAAI,CAACR,CAAC,GAAG,CAAC,IAAIQ,IAAI,CAACR,CAAC,IAAIH,SAAS,EAAE;QAC1E,IAAIoD,SAAS,EAAE;UACbC,YAAY,CAAC,KAAK,CAAC;UACnB2B,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC;UACnB,OAAO4B,YAAY;QACrB,CAAC,MAAM;UACL7D,aAAa,CAAC,IAAI,CAAC;UACnBiC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC;UACnB,OAAO4B,YAAY;QACrB;MACF;;MAEA;MACA,IAAIA,YAAY,CAACV,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACjG,CAAC,KAAKS,IAAI,CAACT,CAAC,IAAIiG,OAAO,CAAChG,CAAC,KAAKQ,IAAI,CAACR,CAAC,CAAC,EAAE;QAC9E,IAAIiD,SAAS,EAAE;UACbC,YAAY,CAAC,KAAK,CAAC;UACnB2B,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC;UACnB,OAAO4B,YAAY;QACrB,CAAC,MAAM;UACL7D,aAAa,CAAC,IAAI,CAAC;UACnBiC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC;UACnB,OAAO4B,YAAY;QACrB;MACF;MAEA,MAAMC,QAAQ,GAAG,CAAClG,IAAI,EAAE,GAAGiG,YAAY,CAAC;;MAExC;MACA,IAAIjG,IAAI,CAACT,CAAC,KAAKgC,IAAI,CAAChC,CAAC,IAAIS,IAAI,CAACR,CAAC,KAAK+B,IAAI,CAAC/B,CAAC,EAAE;QAC1CiG,qBAAqB,CAAClE,IAAI,CAACL,IAAI,CAAC;QAChCM,OAAO,CAAC4D,YAAY,CAAC,CAAC,CAAC;QACvB,OAAOc,QAAQ;MACjB;MAEA,OAAOA,QAAQ,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC1E,SAAS,EAAEY,QAAQ,EAAEF,UAAU,EAAEZ,IAAI,EAAEkB,SAAS,EAAEgD,qBAAqB,EAAEL,YAAY,EAAEf,SAAS,CAAC,CAAC;;EAEtG;EACA9F,SAAS,CAAC,MAAM;IACd,IAAI,CAAC4D,UAAU,IAAI,CAACE,QAAQ,EAAE;MAC5BsB,WAAW,CAACG,OAAO,GAAGiC,UAAU,CAACC,SAAS,EAAEzD,SAAS,CAAC;IACxD;IACA,OAAO,MAAM6D,YAAY,CAACzC,WAAW,CAACG,OAAO,CAAC;EAChD,CAAC,EAAE,CAACkC,SAAS,EAAEzD,SAAS,EAAEJ,UAAU,EAAEE,QAAQ,CAAC,CAAC;;EAEhD;EACA9D,SAAS,CAAC,MAAM;IACd,IAAIoD,KAAK,GAAGE,SAAS,EAAE;MACrBC,YAAY,CAACH,KAAK,CAAC;MACnBK,YAAY,CAACqE,OAAO,CAAC,gBAAgB,EAAE1E,KAAK,CAAC2E,QAAQ,CAAC,CAAC,CAAC;IAC1D;IAEA,IAAI3E,KAAK,GAAG,CAAC,IAAIA,KAAK,IAAI4B,uBAAuB,IAAI1D,cAAc,GAAG,CAAC,EAAE;MACvE,MAAM0G,gBAAgB,GAAI9C,oBAAoB,GAAG5D,cAAc,GAAI,CAAC,CAAC,CAAC;MACtEuD,aAAa,CAAC;QAAEC,IAAI,EAAE,IAAI;QAAEC,SAAS,EAAE,GAAGiD,gBAAgB;MAAO,CAAC,CAAC;MACnElC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;MACrBb,0BAA0B,CAACgD,aAAa,IAAIA,aAAa,GAAG5G,0BAA0B,CAAC;MACvF8D,uBAAuB,CAAC+C,SAAS,IAAIA,SAAS,GAAG,CAAC,CAAC;MAEnDV,UAAU,CAAC,MAAM;QACf3C,aAAa,CAAC;UAAEC,IAAI,EAAE,KAAK;UAAEC,SAAS,EAAE;QAAG,CAAC,CAAC;MAC/C,CAAC,EAAExD,oBAAoB,CAAC;IAC1B;EACF,CAAC,EAAE,CAAC6B,KAAK,EAAEE,SAAS,EAAE0B,uBAAuB,EAAEE,oBAAoB,EAAEY,SAAS,CAAC,CAAC;;EAEhF;EACA9F,SAAS,CAAC,MAAM;IACd,MAAMmI,QAAQ,GAAG3F,IAAI,CAAC+E,GAAG,CAAC,EAAE,EAAEpG,aAAa,GAAGqB,IAAI,CAACuE,KAAK,CAAC3D,KAAK,GAAG,CAAC,CAAC,IAAIjC,aAAa,GAAGC,eAAe,CAAC,CAAC;IACxG6C,YAAY,CAACkE,QAAQ,CAAC;EACxB,CAAC,EAAE,CAAC/E,KAAK,CAAC,CAAC;;EAEX;EACApD,SAAS,CAAC,MAAM;IACd,MAAMoI,cAAc,GAAIzC,CAAC,IAAK;MAC5B,IAAI/B,UAAU,EAAE;MAEhB,QAAQ+B,CAAC,CAAC0C,GAAG;QACX,KAAK,SAAS;QACd,KAAK,GAAG;QACR,KAAK,GAAG;UACN1C,CAAC,CAAC2C,cAAc,CAAC,CAAC;UAClB,IAAIpF,SAAS,KAAK,MAAM,EAAEC,YAAY,CAAC,IAAI,CAAC;UAC5C;QACF,KAAK,WAAW;QAChB,KAAK,GAAG;QACR,KAAK,GAAG;UACNwC,CAAC,CAAC2C,cAAc,CAAC,CAAC;UAClB,IAAIpF,SAAS,KAAK,IAAI,EAAEC,YAAY,CAAC,MAAM,CAAC;UAC5C;QACF,KAAK,WAAW;QAChB,KAAK,GAAG;QACR,KAAK,GAAG;UACNwC,CAAC,CAAC2C,cAAc,CAAC,CAAC;UAClB,IAAIpF,SAAS,KAAK,OAAO,EAAEC,YAAY,CAAC,MAAM,CAAC;UAC/C;QACF,KAAK,YAAY;QACjB,KAAK,GAAG;QACR,KAAK,GAAG;UACNwC,CAAC,CAAC2C,cAAc,CAAC,CAAC;UAClB,IAAIpF,SAAS,KAAK,MAAM,EAAEC,YAAY,CAAC,OAAO,CAAC;UAC/C;QACF,KAAK,GAAG;UACNwC,CAAC,CAAC2C,cAAc,CAAC,CAAC;UAClBvE,WAAW,CAACsD,IAAI,IAAI,CAACA,IAAI,CAAC;UAC1B;MACJ;IACF,CAAC;IAED7B,MAAM,CAAC+C,gBAAgB,CAAC,SAAS,EAAEH,cAAc,CAAC;IAClD,OAAO,MAAM5C,MAAM,CAACgD,mBAAmB,CAAC,SAAS,EAAEJ,cAAc,CAAC;EACpE,CAAC,EAAE,CAAClF,SAAS,EAAEU,UAAU,CAAC,CAAC;;EAE3B;EACA,MAAM6E,gBAAgB,GAAI9C,CAAC,IAAK;IAC9B,MAAM+C,KAAK,GAAG/C,CAAC,CAACgD,OAAO,CAAC,CAAC,CAAC;IAC1BlE,aAAa,CAAC;MAAEzD,CAAC,EAAE0H,KAAK,CAACE,OAAO;MAAE3H,CAAC,EAAEyH,KAAK,CAACG;IAAQ,CAAC,CAAC;EACvD,CAAC;EAED,MAAMC,cAAc,GAAInD,CAAC,IAAK;IAC5B,IAAI/B,UAAU,EAAE;IAEhB,MAAM8E,KAAK,GAAG/C,CAAC,CAACoD,cAAc,CAAC,CAAC,CAAC;IACjC,MAAMC,MAAM,GAAGN,KAAK,CAACE,OAAO,GAAGpE,UAAU,CAACxD,CAAC;IAC3C,MAAMiI,MAAM,GAAGP,KAAK,CAACG,OAAO,GAAGrE,UAAU,CAACvD,CAAC;IAC3C,MAAMiI,gBAAgB,GAAG,EAAE,CAAC,CAAC;;IAE7B,IAAI1G,IAAI,CAAC2G,GAAG,CAACH,MAAM,CAAC,GAAGxG,IAAI,CAAC2G,GAAG,CAACF,MAAM,CAAC,EAAE;MAAE;MACzC,IAAIzG,IAAI,CAAC2G,GAAG,CAACH,MAAM,CAAC,GAAGE,gBAAgB,EAAE;QACvC,IAAIF,MAAM,GAAG,CAAC,IAAI9F,SAAS,KAAK,MAAM,EAAEC,YAAY,CAAC,OAAO,CAAC,CAAC,KACzD,IAAI6F,MAAM,GAAG,CAAC,IAAI9F,SAAS,KAAK,OAAO,EAAEC,YAAY,CAAC,MAAM,CAAC;MACpE;IACF,CAAC,MAAM;MAAE;MACP,IAAIX,IAAI,CAAC2G,GAAG,CAACF,MAAM,CAAC,GAAGC,gBAAgB,EAAE;QACvC,IAAID,MAAM,GAAG,CAAC,IAAI/F,SAAS,KAAK,IAAI,EAAEC,YAAY,CAAC,MAAM,CAAC,CAAC,KACtD,IAAI8F,MAAM,GAAG,CAAC,IAAI/F,SAAS,KAAK,MAAM,EAAEC,YAAY,CAAC,IAAI,CAAC;MACjE;IACF;EACF,CAAC;;EAED;EACA,MAAMiG,SAAS,GAAGA,CAAA,KAAM;IACtBrG,QAAQ,CAAChC,aAAa,CAAC;IACvBkC,OAAO,CAAC4D,YAAY,CAAC,CAAC,CAAC;IACvB1D,YAAY,CAACjC,iBAAiB,CAAC;IAC/BmC,QAAQ,CAAC,CAAC,CAAC;IACXQ,aAAa,CAAC,KAAK,CAAC;IACpBE,WAAW,CAAC,KAAK,CAAC;IAClBE,YAAY,CAAC9C,aAAa,CAAC;IAC3BgD,YAAY,CAAC,KAAK,CAAC;IACnBE,kBAAkB,CAAC,CAAC,CAAC;IACrBM,oBAAoB,CAAC,CAAC,CAAC;IACvB;IACAE,aAAa,CAAC;MAAEC,IAAI,EAAE,KAAK;MAAEC,SAAS,EAAE;IAAG,CAAC,CAAC;IAC7CE,0BAA0B,CAAC5D,0BAA0B,CAAC;IACtD8D,uBAAuB,CAAC,CAAC,CAAC;EAC5B,CAAC;;EAED;EACA,MAAMkE,qBAAqB,GAAIC,YAAY,IAAK;IAC9C,IAAI1F,UAAU,EAAE;IAEhB,MAAM2F,SAAS,GAAG;MAChB,IAAI,EAAE,MAAM;MACZ,MAAM,EAAE,IAAI;MACZ,MAAM,EAAE,OAAO;MACf,OAAO,EAAE;IACX,CAAC;IAED,IAAIrG,SAAS,KAAKqG,SAAS,CAACD,YAAY,CAAC,EAAE;MACzCnG,YAAY,CAACmG,YAAY,CAAC;IAC5B;EACF,CAAC;EAED,oBACEzI,OAAA;IAAK2I,SAAS,EAAC,+JAA+J;IAAAC,QAAA,gBAE5K5I,OAAA;MAAK2I,SAAS,EAAC,8CAA8C;MAAAC,QAAA,eAC3D5I,OAAA;QAAK2I,SAAS,EAAC,SAAS;QAAAC,QAAA,GAAC,GAAC,eAExB5I,OAAA;UAAK2I,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/B5I,OAAA;YAAI2I,SAAS,EAAC,6HAA6H;YAAAC,QAAA,EAAC;UAE5I;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLhJ,OAAA;YAAK2I,SAAS,EAAC,mDAAmD;YAAAC,QAAA,gBAChE5I,OAAA;cAAK2I,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,SAAO,eAAA5I,OAAA;gBAAM2I,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAErG;cAAK;gBAAAsG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAChGhJ,OAAA;cAAK2I,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,QAAM,eAAA5I,OAAA;gBAAM2I,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAEnG;cAAS;gBAAAoG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNhJ,OAAA;UAAK2I,SAAS,EAAC,iDAAiD;UAAAC,QAAA,GAAC,GAAC,EAC/DvF,SAAS,iBACRrD,OAAA;YAAK2I,SAAS,EAAC,qEAAqE;YAAAC,QAAA,EAAC;UAErF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN,EACAzF,eAAe,GAAG,CAAC,iBAClBvD,OAAA;YAAK2I,SAAS,EAAC,uEAAuE;YAAAC,QAAA,EAAC;UAEvF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN,EACA/F,QAAQ,IAAI,CAACF,UAAU;UAAA;UAAM;UAC5B/C,OAAA;YAAK2I,SAAS,EAAC,yDAAyD;YAAAC,QAAA,EAAC;UAEzE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGNhJ,OAAA;UAAK2I,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5I,OAAA;YACE2I,SAAS,EAAC,oGAAoG;YAC9GM,KAAK,EAAE;cAAEC,mBAAmB,EAAE,UAAUjJ,SAAS;YAAS,CAAE;YAC5DkJ,YAAY,EAAEvB,gBAAiB;YAC/BwB,UAAU,EAAEnB,cAAe;YAAAW,QAAA,EAE1BS,KAAK,CAACC,IAAI,CAAC;cAAE7C,MAAM,EAAExG,SAAS,GAAGA;YAAU,CAAC,CAAC,CAACsJ,GAAG,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAK;cAC/D,MAAMtJ,CAAC,GAAGsJ,KAAK,GAAGxJ,SAAS;cAC3B,MAAMG,CAAC,GAAGuB,IAAI,CAACuE,KAAK,CAACuD,KAAK,GAAGxJ,SAAS,CAAC;cACvC,MAAMyJ,WAAW,GAAGzH,KAAK,CAACwE,MAAM,GAAG,CAAC,IAAIxE,KAAK,CAAC,CAAC,CAAC,CAAC9B,CAAC,KAAKA,CAAC,IAAI8B,KAAK,CAAC,CAAC,CAAC,CAAC7B,CAAC,KAAKA,CAAC;cAC5E,MAAMuJ,WAAW,GAAG1H,KAAK,CAAC8E,KAAK,CAAC,CAAC,CAAC,CAACZ,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACjG,CAAC,KAAKA,CAAC,IAAIiG,OAAO,CAAChG,CAAC,KAAKA,CAAC,CAAC;cACtF,MAAMwJ,MAAM,GAAGzH,IAAI,CAAChC,CAAC,KAAKA,CAAC,IAAIgC,IAAI,CAAC/B,CAAC,KAAKA,CAAC;cAE3C,oBACEJ,OAAA;gBAEE2I,SAAS,EAAE;AAC/B;AACA,wBAAwBe,WAAW,GAAG,GAAGjF,iBAAiB,CAAC7D,IAAI,0BAA0B,GAAG,EAAE;AAC9F,wBAAwB+I,WAAW,GAAG,GAAGlF,iBAAiB,CAAC5D,IAAI,qBAAqB,GAAG,EAAE;AACzF,wBAAwB+I,MAAM,GAAG,EAAE,GAAG,EAAE;AACxC,wBAAwB,CAACF,WAAW,IAAI,CAACC,WAAW,IAAI,CAACC,MAAM,GAAG,aAAa,GAAG,EAAE;AACpF,qBAAsB;gBAAAhB,QAAA,EAEDgB,MAAM,iBACL5J,OAAA;kBAAM2I,SAAS,EAAC,uEAAuE;kBAAAC,QAAA,EACpF9H,SAAS,CAACqB,IAAI,CAACL,IAAI,CAAC,CAACd;gBAAI;kBAAA6H,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtB;cACP,GAbIS,KAAK;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAcP,CAAC;YAEV,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,EAGLjG,UAAU,iBACT/C,OAAA;YAAK2I,SAAS,EAAC,0FAA0F;YAAAC,QAAA,eACvG5I,OAAA;cAAK2I,SAAS,EAAC,wBAAwB;cAAAC,QAAA,gBACrC5I,OAAA;gBAAI2I,SAAS,EAAC,yBAAyB;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACvDhJ,OAAA;gBAAG2I,SAAS,EAAC,cAAc;gBAAAC,QAAA,GAAC,eAAa,EAACrG,KAAK;cAAA;gBAAAsG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpDhJ,OAAA;gBACE6J,OAAO,EAAEtB,SAAU;gBACnBI,SAAS,EAAC,mIAAmI;gBAAAC,QAAA,gBAE7I5I,OAAA,CAACJ,SAAS;kBAACkK,IAAI,EAAE;gBAAG;kBAAAjB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,cAEzB;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGNhJ,OAAA;UAAK2I,SAAS,EAAC,6CAA6C;UAAAC,QAAA,gBAC1D5I,OAAA;YACE6J,OAAO,EAAEA,CAAA,KAAM3G,WAAW,CAAC,CAACD,QAAQ,CAAE;YACtC8G,QAAQ,EAAEhH,UAAW;YACrB4F,SAAS,EAAC,8IAA8I;YAAAC,QAAA,GAEvJ3F,QAAQ,gBAAGjD,OAAA,CAACN,IAAI;cAACoK,IAAI,EAAE;YAAG;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAAGhJ,OAAA,CAACL,KAAK;cAACmK,IAAI,EAAE;YAAG;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EACnD/F,QAAQ,GAAG,QAAQ,GAAG,OAAO;UAAA;YAAA4F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC,eAEThJ,OAAA;YACE6J,OAAO,EAAEtB,SAAU;YACnBI,SAAS,EAAC,qHAAqH;YAAAC,QAAA,gBAE/H5I,OAAA,CAACJ,SAAS;cAACkK,IAAI,EAAE;YAAG;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,SAEzB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAEThJ,OAAA;YACE6J,OAAO,EAAEA,CAAA,KAAMnG,UAAU,CAAC,CAACD,OAAO,CAAE;YACpCkF,SAAS,EAAC,2HAA2H;YAAAC,QAAA,EAEpInF,OAAO,gBAAGzD,OAAA,CAACF,OAAO;cAACgK,IAAI,EAAE;YAAG;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAAGhJ,OAAA,CAACH,OAAO;cAACiK,IAAI,EAAE;YAAG;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAGNhJ,OAAA;UAAK2I,SAAS,EAAC,WAAW;UAAAC,QAAA,eACxB5I,OAAA;YAAK2I,SAAS,EAAC,yCAAyC;YAAAC,QAAA,GAAC,GAAC,eACxD5I,OAAA;cAAA6I,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,eACXhJ,OAAA;cACE6J,OAAO,EAAEA,CAAA,KAAMrB,qBAAqB,CAAC,IAAI,CAAE;cAC3CG,SAAS,EAAC,6IAA6I;cAAAC,QAAA,eAEvJ5I,OAAA,CAACV,SAAS;gBAACwK,IAAI,EAAE;cAAG;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC,eACThJ,OAAA;cAAA6I,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,eACXhJ,OAAA;cACE6J,OAAO,EAAEA,CAAA,KAAMrB,qBAAqB,CAAC,MAAM,CAAE;cAC7CG,SAAS,EAAC,6IAA6I;cAAAC,QAAA,eAEvJ5I,OAAA,CAACR,WAAW;gBAACsK,IAAI,EAAE;cAAG;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC,eACRhJ,OAAA;cAAK2I,SAAS,EAAC,gDAAgD;cAAAC,QAAA,eAC5D5I,OAAA;gBACI6J,OAAO,EAAEA,CAAA,KAAM3G,WAAW,CAAC8G,CAAC,IAAI,CAACA,CAAC,CAAE,CAAC;gBACrCD,QAAQ,EAAEhH,UAAW;gBACrB4F,SAAS,EAAC,2IAA2I,CAAC;gBAAAC,QAAA,EAErJ3F,QAAQ,gBAAGjD,OAAA,CAACN,IAAI;kBAACoK,IAAI,EAAE;gBAAG;kBAAAjB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAAGhJ,OAAA,CAACL,KAAK;kBAACmK,IAAI,EAAE;gBAAG;kBAAAjB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,eACNhJ,OAAA;cACE6J,OAAO,EAAEA,CAAA,KAAMrB,qBAAqB,CAAC,OAAO,CAAE;cAC9CG,SAAS,EAAC,6IAA6I;cAAAC,QAAA,eAEvJ5I,OAAA,CAACP,YAAY;gBAACqK,IAAI,EAAE;cAAG;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpB,CAAC,eACThJ,OAAA;cAAA6I,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC,eACXhJ,OAAA;cACE6J,OAAO,EAAEA,CAAA,KAAMrB,qBAAqB,CAAC,MAAM,CAAE;cAC7CG,SAAS,EAAC,6IAA6I;cAAAC,QAAA,eAEvJ5I,OAAA,CAACT,WAAW;gBAACuK,IAAI,EAAE;cAAG;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC,eACThJ,OAAA;cAAA6I,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAU,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNhJ,OAAA;UAAK2I,SAAS,EAAC,wCAAwC;UAAAC,QAAA,GAAC,GAAC,eACvD5I,OAAA;YAAG2I,SAAS,EAAC,MAAM;YAAAC,QAAA,EAAC;UAAyC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACjEhJ,OAAA;YAAG2I,SAAS,EAAC,MAAM;YAAAC,QAAA,GAChB9H,SAAS,CAACC,KAAK,CAACC,IAAI,EAAC,KAAG,EAACF,SAAS,CAACM,SAAS,CAACJ,IAAI,EAAC,oBAAkB,EAACF,SAAS,CAACO,KAAK,CAACL,IAAI,EAAC,GAAC,eAAAhB,OAAA;cAAM2I,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAAE9H,SAAS,CAACO,KAAK,CAACF;YAAW;cAAA0H,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,OAAG,EAAClI,SAAS,CAACS,UAAU,CAACP,IAAI,EAAC,GAAC,eAAAhB,OAAA;cAAM2I,SAAS,EAAC,iBAAiB;cAAAC,QAAA,EAAE9H,SAAS,CAACS,UAAU,CAACJ;YAAW;cAAA0H,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,OAAG,EAAClI,SAAS,CAACU,MAAM,CAACR,IAAI,EAAC,GAAC,eAAAhB,OAAA;cAAM2I,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE9H,SAAS,CAACU,MAAM,CAACL;YAAW;cAAA0H,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1W,CAAC,eACJhJ,OAAA;YAAA4I,QAAA,EAAG;UAAqD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLjF,UAAU,CAACE,IAAI,IAAIxD,cAAc,GAAG,CAAC,iBACpCT,OAAA;MAAK2I,SAAS,EAAC,gLAAgL;MAAAC,QAAA,eAC7L5I,OAAA;QAAK2I,SAAS,EAAC,yFAAyF;QAAAC,QAAA,gBACtG5I,OAAA;UACEiK,GAAG,EAAE,kBAAkBlG,UAAU,CAACG,SAAS,EAAG;UAC9CgG,GAAG,EAAC,wBAAwB;UAC5BvB,SAAS,EAAC,mFAAmF,CAAC;UAAA;UAC9FwB,OAAO,EAAGrF,CAAC,IAAK;YACdA,CAAC,CAACsF,MAAM,CAACnB,KAAK,CAACoB,OAAO,GAAC,MAAM;YAC7B,MAAMC,MAAM,GAAGxF,CAAC,CAACsF,MAAM,CAACG,UAAU;YAClC,IAAID,MAAM,EAAE;cACR,MAAME,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;cAC7CF,SAAS,CAACG,WAAW,GAAG,SAAS5G,UAAU,CAACG,SAAS,sDAAsD;cAC3GsG,SAAS,CAAC7B,SAAS,GAAG,8BAA8B;cACpD2B,MAAM,CAACM,YAAY,CAACJ,SAAS,EAAE1F,CAAC,CAACsF,MAAM,CAAC;YAC5C;UACF;QAAE;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACFhJ,OAAA;UAAG2I,SAAS,EAAC,8EAA8E;UAAAC,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAChH,EAAA,CApeID,SAAS;AAAA8I,EAAA,GAAT9I,SAAS;AAsef,eAAeA,SAAS;AAAC,IAAA8I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}